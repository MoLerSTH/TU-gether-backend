/* app/static/css/admin.css */
:root{
  --bg:#f6f7fb; --card:#fff; --text:#1f2937;
  --muted:#6b7280; --brand:#d32f2f; --brand-dark:#b71c1c;
  --ring:rgba(211,47,47,.18);
  --radius:12px; --shadow:0 10px 30px rgba(0,0,0,.06);
}
/* --- FIX: make actions column wider --- */
td.actions,
th.actions {
    width: 260px !important;
    min-width: 260px !important;
    white-space: nowrap !important;
}

/* ปุ่มในคอลัมน์จัดการห้ามถูกบีบ */
td.actions .btn,
td.actions button {
    white-space: nowrap !important;
    flex-shrink: 0 !important;
}

td.actions-cell,
td:last-child {
    overflow: visible !important;
    position: relative;
}
.table-actions {
    width: 220px !important;   /* ปรับให้กว้างขึ้น */
    min-width: 220px !important;
    text-align: right;
}
.event-actions button {
    flex-shrink: 0 !important;
    white-space: nowrap;
}

/* ==== FIX: กันขอบล้น ==== */
.grid > * { min-width: 0; }
.grid input,
.grid select,
.grid textarea {
  max-width: 100%;
  box-sizing: border-box;
}
.grid input:focus,
.grid select:focus,
.grid textarea:focus {
  outline: none;
  border-color: var(--brand);
  box-shadow: 0 0 0 2px var(--ring);
}
.modal-card { overflow: hidden; }

*{box-sizing:border-box} html,body{margin:0;padding:0}
body.admin-body{font-family:system-ui,Segoe UI,Arial,sans-serif;background:var(--bg);color:var(--text);min-height:100vh}

.admin-header{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;background:#fff;border-bottom:1px solid #eceff3;position:sticky;top:0;z-index:10}
.admin-title{margin:0;font-size:20px;display:flex;gap:8px;align-items:center}
.btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border:1px solid #e5e7eb;border-radius:999px;background:#fff;color:#111827;text-decoration:none;cursor:pointer}
.btn:hover{box-shadow:0 8px 22px rgba(0,0,0,.08)}
.btn.primary{background:linear-gradient(180deg,var(--brand),var(--brand-dark));border:1px solid transparent;color:#fff;box-shadow:0 8px 22px var(--ring)}
.btn.outline{background:#ffff;margin-left: 10px;}
.input{padding:10px 12px;border:1px solid #e5e7eb;border-radius:8px}

.admin-main{padding:20px;max-width:1350px;margin:0 auto}
.card{background:var(--card);border:1px solid #eceff3;border-radius:14px;box-shadow:var(--shadow);padding:16px}

.toolbar{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:12px}
.table-wrap{overflow-y:auto;overflow-x: hidden;}
.table{width:100%;border-collapse:separate;border-spacing:0}
.table th,.table td{padding:10px;border-bottom:1px solid #eef0f4;text-align:left;white-space:nowrap}
.table th{font-weight:700}
.table td {max-width: 350px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;}
.table tr:hover{background:#fafafa}
.table td:last-child,.table th:last-child {min-width: 260px;white-space: nowrap;}
.table td:last-child .btn {display: inline-flex;margin-right: 6px;white-space: nowrap;}
.table td:last-child .btn:last-child {margin-right: 0;}

.overlay{position:fixed;inset:0;background:rgba(12,14,20,.48)}
.modal{position:fixed;inset:0;display:grid;place-items:center}
.modal-card{width:min(720px,calc(100vw - 32px));background:#fff;border:1px solid #e9ecf2;border-radius:16px;box-shadow:0 24px 60px rgba(0,0,0,.18);padding:16px}
.grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
.grid label{display:flex;flex-direction:column;gap:6px;font-size:14px}

.grid input,
.grid select,
.grid textarea {
  padding:10px 12px;
  border:1px solid #e5e7eb;
  border-radius:8px;
  transition:border-color 0.2s ease;
  line-height:1.5;
}

.grid input:hover,
.grid input:focus,
.grid select:hover,
.grid select:focus,
.grid textarea:hover,
.grid textarea:focus {
  border-color:#9ca3af;
  outline:none;
}

#event-detail {grid-column: span 2; width: 100%;min-height: 100px;margin-top: 10px;padding: 10px 12px;  border: 1px solid #e5e7eb;border-radius: 8px;transition: border-color 0.2s ease;}
#event-detail:hover,
#event-detail:focus {border-color: #9ca3af; outline: none;}

.actions{display:flex;justify-content:flex-end;gap:10px;margin-top:12px}

/* ==== force modal to be hidden by default (wins all) ==== */
[hidden] { display: none !important; }

.overlay,
.modal { display: none !important; }       /* default hidden */

.overlay.open { display: block !important; } /* show overlay when open */
.modal.open   { display: grid !important; }  /* show modal as grid when open */

.modal { position: fixed; inset: 0; place-items: center; z-index: 9999; }
.overlay { position: fixed; inset: 0; z-index: 9998; }

.footer-wrap{
  margin-left: 10px;
}

.table td > span[class^="status-"] {
  /* Common badge styling */
  display: inline-block;
  padding: 4px 8px;
  border-radius: 999px;
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  min-width: 70px; /* Ensure labels are wide enough */
  text-align: center;
}

/* Open (Green) */
.status-open {
  background-color: #d1fae5; /* green-100 */
  color: #065f46; /* green-700 */
}

/* Close (Red) */
.status-close {
  background-color: #fee2e2; /* red-100 */
  color: #991b1b; /* red-700 */
}

/* Full (Yellow/Amber) */
.status-full {
  background-color: #fef3c7; /* yellow-100 */
  color: #b45309; /* yellow-800 */
}

/* Upcoming (No change in color requested, using a light grey default) */
.status-upcoming {
  background-color: #e5e7eb; /* gray-200 */
  color: #374151; /* gray-700 */
}